

[←前](./tr-basic07.md)&emsp;[次→](./tr-basic09.md)&emsp;[チュートリアル](./tutorial.md)&emsp;[Wikiトップ](./)

<title>チュートリアル - 基礎編 (8/9) - カーソルキーで動くオブジェクト</title>

### チュートリアル - 基礎編 (8/9)
## カーソルキーで動くオブジェクト

基礎編のまとめとして、典型的なオブジェクトを２つほど作ってみます。まずカーソルキーを使って動かせるオブジェクトです。

オブジェクトを作るを参考に、新しいオブジェクトを作成します

![class3.png](./img/class3.png)

オブジェクトをダブルクリックし、次のように入力します。

```
extends SpriteChar;

while(1) {
  if (getkey(39)>0) x+=3;
  if (getkey(37)>0) x-=3;
  if (getkey(40)>0) y+=3;
  if (getkey(38)>0) y-=3;
  update();
}
```
新しくgetkeyというものがでてきましたが、 これはキー入力を判定するのに用います。

getkey(x)は、キーが押されているかどうかの判定を行います。  
xは調べたいキーの番号で  
39がカーソルキーの右, 37が左です  
38がカーソルキーの上, 40が下です  

getkey(x)はキーの状態によって、次のような値を表します:
- 0:押されていない
- 1:今押されたばかり
- 2以上:押しっぱなしになっている

※他のキーの状態を調べたい場合はgetkeyを参照してください。
getkeyの部分は次のようにいいかえられます
```
if (右がおされた) 右に3だけ移動;
if (左がおされた) 左に3だけ移動;
if (下がおされた) 下に3だけ移動;
if (上がおされた) 上に3だけ移動;
```
実行してみましょう。カーソルキーをつかって動かせます。

***

[←前](./tr-basic07.md)&emsp;[次→](./tr-basic09.md)&emsp;[チュートリアル](./tutorial.md)&emsp;[Wikiトップ](./)
